-----------------------------------------------------------------------------------------
-- MADE BY GABRIEL CLOUTIER ON 6TH APRIL 2017
-- main.lua
---------------------------------------------------------------------------------------------

------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------- PHYSX --------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------
local physics = require('physics')

physics.start()
physics.setGravity(0,1)

------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------- PERSO --------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------
local mPerso = require('classes.classe_perso')
local perso = mPerso:new()
perso:toFront()
------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------- OBSTACLE -----------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------
local mObstacle = require('classes.classe_obstacle')

local function spawn()
    local obstacle = mObstacle:new()--self:spawn() 
end
timer.performWithDelay(500,spawn,-1) -- à chaque seconde, appelle la fonction spawn et répète à l'infini



------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------ INTERFACE -------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------



local mInterface = require('classes.classe_interface')
local interface = mInterface:new(perso)
interface:toBack()

------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------ RUNTIME ET INIT -------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------



